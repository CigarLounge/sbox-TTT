@using Sandbox
@using Sandbox.UI
@using System.Linq
@using TTT

@namespace TTT.UI

@if (Game.LocalPawn is not TTT.Player player) 
{
	return;
}

<root class="background-color-gradient rounded opacity-heavy">
	@switch(player.Role)
	{
		case Innocent:
			<div>

			</div>
			break;
		case Traitor:
			var teammates = Role.GetPlayers<Traitor>().Where(p => !p.IsLocalPawn);
			<div>
				<text>You are a</text>
				<text style="color: @player.Role.Color.Hex">@player.Role.Title!</text>
			</div>
			break;
		case Detective:
			<div>
				
			</div>
			break;
	}

	@if (player.Role.Info.ShopItems.Any())
	{
		<div class="shop-info">
			<text>Press</text>
			<inputglyph button="View" />
			<text>to access the shop.</text>
		</div>
	}
</root>

<style>
	RoleInfoPopup {
		position: absolute;
        bottom: 0px;
        left: 50%;
		height: 20%;
		width: 20%;
		font-size: 17px;
		transform: translateX(-50%) translateY(-50%);
		flex-direction: column;
		justify-content: center;
		align-items: center;

		.shop-info {
			align-items: center;
		}
	}
</style>